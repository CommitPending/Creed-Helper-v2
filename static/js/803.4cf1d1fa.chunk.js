"use strict";(self.webpackChunkcreed_helper=self.webpackChunkcreed_helper||[]).push([[803],{6609:(e,o,n)=>{n.d(o,{A:()=>m});n(5043);var t=n(831),a=n(1895),r=n(9157),s=n(8353),l=n(5299),d=n(6985),i=n(2019),c=n(579);const m=()=>{const e=(0,t.vc)(a.a),o=Object.values(e).map((e=>parseFloat(e))),n=o.reduce(((e,o)=>e+o),0),m=Object.entries(e).map((e=>{let[o,n]=e;return`${o}-${n}`})).join("_"),h={chart:{background:"transparent",toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150}}},labels:Object.keys(e),colors:["#2de7e0","#b71515","#ffc107","#28a745","#573c9c"],legend:{show:!0,position:"bottom",fontSize:"14px",labels:{colors:["var(--body-color)"]},markers:{width:10,height:10,radius:5},itemMargin:{horizontal:10,vertical:5}},dataLabels:{enabled:!0,formatter:e=>e.toLocaleString(),dropShadow:{enabled:!1},style:{fontSize:"14px",fontWeight:"600",colors:["var(--body-color)"]},background:{enabled:!1}},tooltip:{theme:"dark",y:{formatter:e=>e.toLocaleString()},style:{fontSize:"14px"}},stroke:{show:!0,width:2,colors:["#fff"]},plotOptions:{pie:{expandOnClick:!0,donut:{size:"70%",labels:{show:!0,name:{show:!0,fontSize:"18px",fontWeight:"bold",color:"var(--body-color)"},value:{show:!0,fontSize:"22px",fontWeight:"bold",color:"var(--body-color)",formatter:e=>parseFloat(e).toLocaleString()},total:{show:!0,label:"Total",color:"var(--body-color)",fontSize:"18px",fontWeight:"bold",formatter:()=>n.toLocaleString()}}}}},responsive:[{breakpoint:768,options:{chart:{height:300},legend:{position:"bottom",fontSize:"12px"},dataLabels:{style:{fontSize:"12px"}},plotOptions:{pie:{donut:{labels:{name:{fontSize:"14px"},value:{fontSize:"16px"},total:{fontSize:"14px"}}}}}}}]};return(0,c.jsx)(r.A,{className:"pokechart-card shadow-lg p-3 mb-5 rounded",children:(0,c.jsxs)(s.A,{children:[(0,c.jsx)(l.A,{tag:"h3",className:"mb-3 text-center",children:"Box Value Summary"}),(0,c.jsx)(d.A,{className:"text-muted text-center mb-4",children:"Detailed breakdown of Pok\xe9mon categories"}),(0,c.jsx)("div",{className:"chart-container",children:(0,c.jsx)(i.A,{options:h,series:o,type:"donut",height:380},m)})]})})}},1895:(e,o,n)=>{n.d(o,{H:()=>a,a:()=>r});var t=n(831);const a=(0,t.eU)({key:"pokemonDetailsState",default:{uname:"",uid:"",totalRating:"",consideredPokemon:[],ignoredPokemon:[]}}),r=(0,t.eU)({key:"categorizedTotalsState",default:{Luminous:0,Cursed:0,Gold:0,Rainbow:0,Shadow:0}})},803:(e,o,n)=>{n.r(o),n.d(o,{default:()=>S});var t=n(2327),a=n(2345),r=n(6609),s=n(5043),l=n(4911),d=n(9157),i=n(8353),c=n(5299),m=n(6985),h=n(8268),u=n(831),p=n(1895),g=n(579);const x=()=>{const e=(0,u.vc)(p.H),o=e=>{const o={};return e.forEach((e=>{const n=`${e.name} ${e.gender||""} - Level: ${e.level}`;o[n]?o[n].count+=1:o[n]={...e,count:1}})),Object.entries(o).map((e=>{let[o,n]=e;const t=(e=>{if(!e||"string"!==typeof e)return console.warn(`Invalid rate string: ${e}`),0;const o=e.match(/[\d.]+/);if(!o)return console.warn(`No numeric value found in rate string: ${e}`),0;const n=parseFloat(o[0]);return e.includes("m")?1e6*n:e.includes("k")?1e3*n:n})(n.rate||n.formattedRate),a=t*n.count,r=(s=a)>=1e6?`${(s/1e6).toFixed(2)}m`:s>=1e3?`${(s/1e3).toFixed(2)}k`:s.toFixed(2);var s;return{...n,display:`${n.count}x ${o} [${r}]`}}))};return(0,g.jsx)(d.A,{className:"mt-4",children:(0,g.jsxs)(i.A,{children:[(0,g.jsx)(c.A,{tag:"h5",children:"Pokemon in Box"}),(0,g.jsx)(m.A,{className:"mb-3 text-muted",tag:"h6",children:"Considered and Ignored Pok\xe9mon"}),(0,g.jsx)("h6",{className:"mt-4",children:"Considered Pok\xe9mon:"}),(0,g.jsx)(h.A,{flush:!0,className:"mb-4",children:e.consideredPokemon.length>0?(n=e.consideredPokemon,o(n).map(((e,o)=>(0,g.jsx)(l.A,{className:"d-flex align-items-center",children:e.display},o)))):(0,g.jsx)(l.A,{children:"No Pok\xe9mon considered"})}),(0,g.jsx)("h6",{className:"mt-4",children:"Ignored Pok\xe9mon:"}),(0,g.jsx)(h.A,{flush:!0,children:e.ignoredPokemon.length>0?(e=>{const o={};return e.forEach((e=>{const n=`${e.name} ${e.gender}`;o[n]?o[n].count+=1:o[n]={...e,count:1}})),Object.entries(o).map(((e,o)=>{let[n,t]=e;return(0,g.jsxs)(l.A,{className:"d-flex align-items-center",children:[t.count,"x ",t.name," ",t.gender&&`${t.gender}`," - Level: ",t.level]},o)}))})(e.ignoredPokemon):(0,g.jsx)(l.A,{children:"No Pok\xe9mon ignored"})})]})});var n};var f=n(6221),b=n(7550),k=n(7493),j=n(2679),v=n(6259),w=n(1509);const A=()=>{const[e,o]=(0,s.useState)(""),[n,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(!1),l=(0,u.lZ)(p.H),m=(0,u.lZ)(p.a),h=async e=>{const o=e.map((e=>fetch(`https://pokemoncreed.net/ajax/pokedex.php?pokemon=${e}`).then((e=>e.json())).then((o=>{const n=o.rating||"0",t=n.includes("m")?1e6*parseFloat(n):1e3*parseFloat(n.replace("k",""));return{[e]:t}})).catch((o=>(console.error(`Error fetching rate for ${e}:`,o),{[e]:0})))));return(await Promise.all(o)).reduce(((e,o)=>({...e,...o})),{})},x=(e,o)=>{let n=0;const t=[],a=[];for(const r in e)for(const s of e[r]){let e=o[s.name.toLowerCase()]||0;s.level<5?e*=3:"unbase"===r&&(e*=.8),e>0?(n+=e,t.push({count:1,name:s.name,gender:s.gender,level:s.level,formattedRate:A(e)})):a.push({count:1,name:s.name,gender:s.gender,level:s.level})}return{totalRating:A(n),consideredPokemon:t,ignoredPokemon:a}},A=e=>e>=1e6?(e/1e6).toFixed(2)+"m":e>=1e3?(e/1e3).toFixed(2)+"k":e.toString(),S=e=>{const o={Luminous:0,Cursed:0,Gold:0,Rainbow:0,Shadow:0};return e.forEach((e=>{let n=0;const t=e.formattedRate.toLowerCase();n=t.endsWith("k")?1e3*parseFloat(t.replace("k","")):t.endsWith("m")?1e6*parseFloat(t.replace("m","")):parseFloat(t),e.name.toLowerCase().includes("luminous")?o.Luminous+=n:e.name.toLowerCase().includes("cursed")?o.Cursed+=n:e.name.toLowerCase().includes("golden")?o.Gold+=n:e.name.toLowerCase().includes("rainbow")?o.Rainbow+=n:e.name.toLowerCase().includes("shadow")&&(o.Shadow+=n)})),o};return(0,g.jsx)("div",{children:(0,g.jsx)(d.A,{children:(0,g.jsxs)(i.A,{children:[(0,g.jsx)(c.A,{tag:"h2",className:"mb-4 text-center",children:"Rate Box"}),(0,g.jsxs)(f.A,{onSubmit:async o=>{if(o.preventDefault(),t(""),l({uname:"",uid:"",totalRating:"",consideredPokemon:[],ignoredPokemon:[]}),m({Luminous:0,Cursed:0,Gold:0,Rainbow:0,Shadow:0}),e){r(!0);try{const o=await fetch(`https://pokemoncreed.net/ajax/box.php?user=${e}`),n=await o.json();if(n.success){const e=n.data,o=e.name,a=e.id,r=["Cursed","Glitter","Golden","Luminous","Rainbow","Shadow"],s={base:[],unbase:[],other:[]},d=new Set;if(e.pokemon.forEach((e=>{"0"===e.loan&&r.some((o=>e.name.startsWith(o)))&&(d.add(e.name.toLowerCase()),5===e.level?s.base.push({name:e.name,gender:e.gender,level:e.level}):e.level>5?s.unbase.push({name:e.name,gender:e.gender,level:e.level}):s.other.push({name:e.name,gender:e.gender,level:e.level}))})),s.base.length+s.unbase.length+s.other.length===0)t(`${o} - #${a} has no colored Pok\xe9mon to rate!`);else{const e=await h(Array.from(d)),n=x(s,e);console.log(n);const r=S(n.consideredPokemon);m(r),l({uname:o,uid:a,totalRating:n.totalRating,consideredPokemon:n.consideredPokemon,ignoredPokemon:n.ignoredPokemon}),t(`Total Rating for ${o}: ${n.totalRating}`)}}else t("Username not found!")}catch(n){console.error("Error fetching data:",n),t("An error occurred while fetching data.")}finally{r(!1)}}else t("Please enter a valid username.")},children:[(0,g.jsxs)(b.A,{className:"mb-3",children:[(0,g.jsx)(k.A,{for:"username",children:"Username:"}),(0,g.jsx)(j.A,{type:"text",name:"username",id:"username",placeholder:"Enter username",value:e,onChange:e=>o(e.target.value),required:!0})]}),(0,g.jsx)(v.A,{type:"submit",color:"primary",disabled:a,block:!0,children:a?"Loading...":"Rate Box"})]}),n&&(0,g.jsx)(w.A,{color:"info",className:"mt-4",children:n}),(0,g.jsx)(k.A,{children:(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"NOTE:"})," Unbase: 0.8x Rate List | Level 4 or less: 3x Rate List | Genderless/Special Genders are rated normally."]})})]})})})},S=()=>(0,g.jsxs)(u.bi,{children:[(0,g.jsx)(t.A,{children:(0,g.jsx)(a.A,{lg:"12",children:(0,g.jsx)(A,{})})}),(0,g.jsxs)(t.A,{children:[(0,g.jsx)(a.A,{lg:"12",children:(0,g.jsx)(r.A,{})}),(0,g.jsx)(a.A,{lg:"12",children:(0,g.jsx)(x,{})})]}),(0,g.jsx)(t.A,{})]})}}]);
//# sourceMappingURL=803.4cf1d1fa.chunk.js.map